!function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){!function(e){"use strict";function t(e,t,i,s){for(var o=["content","subtext","tokens"],l=!1,r=0;r<o.length;r++){var c=e[o[r]];if(c&&(s&&(c=n(c)),c=c.toUpperCase(),l="contains"===i?c.indexOf(t)>=0:c.startsWith(t)))break}return l}function i(e){return parseInt(e,10)||0}function n(t){return e.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}function s(t){var i=arguments,n=t;[].shift.apply(i);var s,o=this.each(function(){var t=e(this);if(t.is("select")){var o=t.data("selectpicker"),l="object"==typeof n&&n;if(o){if(l)for(var r in l)l.hasOwnProperty(r)&&(o.options[r]=l[r])}else{var c=e.extend({},b.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),l);c.template=e.extend({},b.DEFAULTS.template,e.fn.selectpicker.defaults?e.fn.selectpicker.defaults.template:{},t.data().template,l.template),t.data("selectpicker",o=new b(this,c))}"string"==typeof n&&(s=o[n]instanceof Function?o[n].apply(o,i):o.options[n])}});return void 0!==s?s:o}var o=document.createElement("_");if(o.classList.toggle("c3",!1),o.classList.contains("c3")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:l.call(this,e)}}String.prototype.startsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t={}.toString,i=function(e){if(null==this)throw new TypeError;var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw new TypeError;var n=i.length,s=String(e),o=s.length,l=arguments.length>1?arguments[1]:void 0,r=l?Number(l):0;r!=r&&(r=0);var c=Math.min(Math.max(r,0),n);if(o+c>n)return!1;for(var a=-1;++a<o;)if(i.charCodeAt(c+a)!=s.charCodeAt(a))return!1;return!0};e?e(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i}(),Object.keys||(Object.keys=function(e,t,i){for(t in i=[],e)i.hasOwnProperty.call(e,t)&&i.push(t);return i});var r={useDefault:!1,_set:e.valHooks.select.set};e.valHooks.select.set=function(t,i){return i&&!r.useDefault&&e(t).data("selected",!0),r._set.apply(this,arguments)};var c=null,a=function(){try{return new Event("change"),!0}catch(e){return!1}}();e.fn.triggerNative=function(e){var t,i=this[0];i.dispatchEvent?(a?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),i.dispatchEvent(t)):i.fireEvent?((t=document.createEventObject()).eventType=e,i.fireEvent("on"+e,t)):this.trigger(e)};var d=function(e){var t=function(t){return e[t]},i="(?:"+Object.keys(e).join("|")+")",n=RegExp(i),s=RegExp(i,"g");return function(e){return n.test(e=null==e?"":""+e)?e.replace(s,t):e}},h=d({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),p=d({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),u={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},m={};m.full=(e.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),m.major=m.full[0];var f={DISABLED:"disabled",DIVIDER:"4"===m.major?"dropdown-divider":"divider",SHOW:"4"===m.major?"show":"open",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"4"===m.major?"btn-light":"btn-default"},v=new RegExp("38|40"),g=new RegExp("^9$|27"),b=(new RegExp("13|32"),function(t,i){var n=this;r.useDefault||(e.valHooks.select.set=r._set,r.useDefault=!0),this.$element=e(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=i,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){n.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var s=this.options.windowPadding;"number"==typeof s&&(this.options.windowPadding=[s,s,s,s]),this.val=b.prototype.val,this.render=b.prototype.render,this.refresh=b.prototype.refresh,this.setStyle=b.prototype.setStyle,this.selectAll=b.prototype.selectAll,this.deselectAll=b.prototype.deselectAll,this.destroy=b.prototype.destroy,this.remove=b.prototype.remove,this.show=b.prototype.show,this.hide=b.prototype.hide,this.init()});b.VERSION="1.13.0-beta",b.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600},"4"===m.major&&(b.DEFAULTS.style="btn-light",b.DEFAULTS.iconBase="",b.DEFAULTS.tickIcon="bs-ok-default"),b.prototype={constructor:b,init:function(){var e=this,t=this.$element.attr("id");this.$element.addClass(""),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.createLi(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass(f.MENURIGHT),void 0!==t&&this.$button.attr("data-id",t),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(e.isVirtual()){var t=e.$menuInner[0],i=t.firstChild.cloneNode(!1);t.replaceChild(i,t.firstChild),t.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!1),e.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){e.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){e.$menuInner.attr("aria-expanded",!0),e.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){e.$element.trigger("shown.bs.select",t)}}),e.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){e.$button.addClass("bs-invalid"),e.$element.on({"shown.bs.select":function(){e.$element.val(e.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&e.$button.removeClass("bs-invalid"),e.$element.off("rendered.bs.select")}}),e.$button.on("blur.bs.select",function(){e.$element.focus().blur(),e.$button.off("blur.bs.select")})}),setTimeout(function(){e.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+h(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"";return e('<div class="dropdown bootstrap-select'+t+i+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><div class="filter-option"><div class="filter-option-inner"></div></div>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu '+("4"===m.major?"":f.SHOW)+'" role="combobox">'+s+o+(this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+f.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+f.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>":"")+'<div class="inner '+f.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="dropdown-menu inner '+("4"===m.major?f.SHOW:"")+'"></ul></div>'+(this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+f.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>":"")+"</div></div>")},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var e=0;e<this.selectpicker.current.data.length;e++){var t=this.selectpicker.current.data[e],i=!0;"divider"===t.type?(i=!1,t.height=this.sizeInfo.dividerHeight):"optgroup-label"===t.type?(i=!1,t.height=this.sizeInfo.dropdownHeaderHeight):t.height=this.sizeInfo.liHeight,t.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),t.position=(0===e?0:this.selectpicker.current.data[e-1].position)+t.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(t,i){function n(e,i){var n,c,a,d,h,p,u,m=s.selectpicker.current.elements.length,f=[],v=void 0,g=!0,b=s.isVirtual();s.selectpicker.view.scrollTop=e,!0===b&&s.sizeInfo.hasScrollBar&&s.$menu[0].offsetWidth>s.sizeInfo.totalMenuWidth&&(s.sizeInfo.menuWidth=s.$menu[0].offsetWidth,s.sizeInfo.totalMenuWidth=s.sizeInfo.menuWidth+s.sizeInfo.scrollBarWidth,s.$menu.css("min-width",s.sizeInfo.menuWidth)),n=Math.ceil(s.sizeInfo.menuInnerHeight/s.sizeInfo.liHeight*1.5),c=Math.round(m/n)||1;for(var x=0;x<c;x++){var w=(x+1)*n;if(x===c-1&&(w=m),f[x]=[x*n+(x?1:0),w],!m)break;void 0===v&&e<=s.selectpicker.current.data[w-1].position-s.sizeInfo.menuInnerHeight&&(v=x)}if(void 0===v&&(v=0),h=[s.selectpicker.view.position0,s.selectpicker.view.position1],a=Math.max(0,v-1),d=Math.min(c-1,v+1),s.selectpicker.view.position0=Math.max(0,f[a][0])||0,s.selectpicker.view.position1=Math.min(m,f[d][1])||0,p=h[0]!==s.selectpicker.view.position0||h[1]!==s.selectpicker.view.position1,void 0!==s.activeIndex&&(l=s.selectpicker.current.elements[s.selectpicker.current.map.newIndex[s.prevActiveIndex]],r=s.selectpicker.current.elements[s.selectpicker.current.map.newIndex[s.activeIndex]],o=s.selectpicker.current.elements[s.selectpicker.current.map.newIndex[s.selectedIndex]],i&&(s.activeIndex!==s.selectedIndex&&(r.classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active")),s.activeIndex=void 0),s.activeIndex&&s.activeIndex!==s.selectedIndex&&o&&o.length&&(o.classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active"))),void 0!==s.prevActiveIndex&&s.prevActiveIndex!==s.activeIndex&&s.prevActiveIndex!==s.selectedIndex&&l&&l.length&&(l.classList.remove("active"),l.firstChild&&l.firstChild.classList.remove("active")),(i||p)&&(u=s.selectpicker.view.visibleElements?s.selectpicker.view.visibleElements.slice():[],s.selectpicker.view.visibleElements=s.selectpicker.current.elements.slice(s.selectpicker.view.position0,s.selectpicker.view.position1),s.setOptionStatus(),(t||!1===b&&i)&&(g=!function(e,t){return u.length===t.length&&u.every(function(e,i){return e===t[i]})}(0,s.selectpicker.view.visibleElements)),(i||!0===b)&&g)){var I,k=s.$menuInner[0],$=document.createDocumentFragment(),C=k.firstChild.cloneNode(!1),S=!0===b?s.selectpicker.view.visibleElements:s.selectpicker.current.elements;k.replaceChild(C,k.firstChild),x=0;for(var y=S.length;x<y;x++)$.appendChild(S[x]);!0===b&&(I=s.selectpicker.view.position1>m-1?0:s.selectpicker.current.data[m-1].position-s.selectpicker.current.data[s.selectpicker.view.position1-1].position,k.firstChild.style.marginTop=(0===s.selectpicker.view.position0?0:s.selectpicker.current.data[s.selectpicker.view.position0-1].position)+"px",k.firstChild.style.marginBottom=I+"px"),k.firstChild.appendChild($)}if(s.prevActiveIndex=s.activeIndex,s.options.liveSearch){if(t&&i){var E,z=0;s.selectpicker.view.canHighlight[z]||(z=1+s.selectpicker.view.canHighlight.slice(1).indexOf(!0)),E=s.selectpicker.view.visibleElements[z],s.selectpicker.view.currentActive&&(s.selectpicker.view.currentActive.classList.remove("active"),s.selectpicker.view.currentActive.firstChild&&s.selectpicker.view.currentActive.firstChild.classList.remove("active")),E&&(E.classList.add("active"),E.firstChild&&E.firstChild.classList.add("active")),s.activeIndex=s.selectpicker.current.map.originalIndex[z]}}else s.$menuInner.focus()}i=i||0;var s=this;this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main;var o,l,r=[];this.setPositionData(),n(i,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(e,t){s.noScroll||n(this.scrollTop,t),s.noScroll=!1}),e(window).off("resize.createView").on("resize.createView",function(){n(s.$menuInner[0].scrollTop)})},createLi:function(){var t,i=this,n=[],s=0,o=0,l=[],r=0,c=0,a=-1;this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option"));var d={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" ")},p=d.span.cloneNode(!1),u=document.createDocumentFragment();p.className=i.options.iconBase+" "+i.options.tickIcon+" check-mark",d.a.appendChild(p),d.a.setAttribute("role","option"),d.subtext.className="text-muted",d.text=d.span.cloneNode(!1),d.text.className="text";var v=function(e,t,i,n){var s=d.li.cloneNode(!1);return e&&(1===e.nodeType||11===e.nodeType?s.appendChild(e):s.innerHTML=e),void 0!==i&&""!==i&&(s.className=i),null!=n&&s.classList.add("optgroup-"+n),s},g=function(e,t,i){var n=d.a.cloneNode(!0);return e&&(11===e.nodeType?n.appendChild(e):n.insertAdjacentHTML("beforeend",e)),void 0!==t&""!==t&&(n.className=t),"4"===m.major&&n.classList.add("dropdown-item"),i&&n.setAttribute("style",i),n},b=function(e){var t,n,s=d.text.cloneNode(!1);if(e.optionContent)s.innerHTML=e.optionContent;else{if(s.textContent=e.text,e.optionIcon){var o=d.whitespace.cloneNode(!1);(n=d.span.cloneNode(!1)).className=i.options.iconBase+" "+e.optionIcon,u.appendChild(n),u.appendChild(o)}e.optionSubtext&&((t=d.subtext.cloneNode(!1)).textContent=e.optionSubtext,s.appendChild(t))}return u.appendChild(s),u},x=function(e){var t,n,s=d.text.cloneNode(!1);if(s.textContent=e.labelEscaped,e.labelIcon){var o=d.whitespace.cloneNode(!1);(n=d.span.cloneNode(!1)).className=i.options.iconBase+" "+e.labelIcon,u.appendChild(n),u.appendChild(o)}return e.labelSubtext&&((t=d.subtext.cloneNode(!1)).textContent=e.labelSubtext,s.appendChild(t)),u.appendChild(s),u};if(this.options.title&&!this.multiple){a--;var w=this.$element[0],I=!1;this.selectpicker.view.titleOption.parentNode||(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.innerHTML=this.options.title,this.selectpicker.view.titleOption.value="",I=void 0===e(w.options[w.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),w.insertBefore(this.selectpicker.view.titleOption,w.firstChild),I&&(w.selectedIndex=0)}var k=this.$element.find("option");k.each(function(d){var p=e(this);if(a++,!p.hasClass("bs-title-option")){var u,m,w=p.data(),I=this.className||"",$=h(this.style.cssText),C=w.content,S=this.textContent,y=w.tokens,E=w.subtext,z=w.icon,T=p.parent(),O=T[0],D="OPTGROUP"===O.tagName,H=D&&O.disabled,L=this.disabled||H,N=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName,A=T.data();if(!0===w.hidden||i.options.hideDisabled&&(L&&!D||H))return u=w.prevHiddenIndex,p.next().data("prevHiddenIndex",void 0!==u?u:d),a--,N||void 0===u||(j=k[u].previousElementSibling)&&"OPTGROUP"===j.tagName&&!j.disabled&&(N=!0),void(N&&"divider"!==l[l.length-1].type&&(a++,n.push(v(!1,0,f.DIVIDER,r+"div")),l.push({type:"divider",optID:r,originalIndex:d})));if(D&&!0!==w.divider){if(i.options.hideDisabled&&L){if(void 0===A.allOptionsDisabled){var W=T.children();T.data("allOptionsDisabled",W.filter(":disabled").length===W.length)}if(T.data("allOptionsDisabled"))return void a--}var P=" "+O.className||"";if(!this.previousElementSibling){r+=1;var B=h(O.label),M=A.subtext,R=A.icon;0!==d&&n.length>0&&(a++,n.push(v(!1,0,f.DIVIDER,r+"div")),l.push({type:"divider",optID:r,originalIndex:d})),a++;var U=x({labelEscaped:B,labelSubtext:M,labelIcon:R});n.push(v(U,0,"dropdown-header"+P,r)),l.push({content:B,subtext:M,type:"optgroup-label",optID:r,originalIndex:d}),c=a-1}if(i.options.hideDisabled&&L||!0===w.hidden)return void a--;m=b({text:S,optionContent:C,optionSubtext:E,optionIcon:z}),n.push(v(g(m,"opt "+I+P,$),0,"",r)),l.push({content:S,subtext:E,tokens:y,type:"option",optID:r,headerIndex:c,lastIndex:c+O.childElementCount,originalIndex:d}),s++}else if(!0===w.divider)n.push(v(!1,0,"divider")),l.push({type:"divider",originalIndex:d});else{var j;!N&&i.options.hideDisabled&&void 0!==(u=w.prevHiddenIndex)&&(j=k[u].previousElementSibling)&&"OPTGROUP"===j.tagName&&!j.disabled&&(N=!0),N&&"divider"!==l[l.length-1].type&&(a++,n.push(v(!1,0,f.DIVIDER,r+"div")),l.push({type:"divider",optID:r,originalIndex:d})),m=b({text:S,optionContent:C,optionSubtext:E,optionIcon:z}),n.push(v(g(m,I,$))),l.push({content:S,subtext:E,tokens:y,type:"option",originalIndex:d}),s++}i.selectpicker.main.map.newIndex[d]=a,i.selectpicker.main.map.originalIndex[a]=d;var F=l[l.length-1];F.disabled=L;var V=0;F.content&&(V+=F.content.length),F.subtext&&(V+=F.subtext.length),z&&(V+=1),V>o&&(o=V,t=n[n.length-1])}}),this.selectpicker.main.elements=n,this.selectpicker.main.data=l,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=t,this.selectpicker.view.availableOptionsCount=s},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var t=this,i=this.$element.find("option"),n=[],s=[];this.togglePlaceholder(),this.tabIndex(),i.each(function(i){if(this.selected&&(n.push(this),s.length<100&&"count"!==t.options.selectedTextFormat)){if(t.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var o,l,r=e(this),c=r.data(),a=c.icon&&t.options.showIcon?'<i class="'+t.options.iconBase+" "+c.icon+'"></i> ':"";o=t.options.showSubtext&&c.subtext&&!t.multiple?' <small class="text-muted">'+c.subtext+"</small>":"",l=void 0!==r.attr("title")?r.attr("title"):c.content&&t.options.showContent?c.content.toString():a+r.html()+o,s.push(l)}});var o=this.multiple?s.join(this.options.multipleSeparator):s[0];if(n.length>100&&(o+="..."),this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var l=this.options.selectedTextFormat.split(">");if(l.length>1&&n.length>l[1]||1===l.length&&n.length>=2){var r=this.selectpicker.view.availableOptionsCount;o=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(n.length,r):this.options.countSelectedText).replace("{0}",n.length.toString()).replace("{1}",r.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",p(e.trim(o.replace(/<[^>]*>?/g,"")))),this.$button.find(".filter-option-inner").html(o),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),l=document.createElement("ul"),r=document.createElement("li"),c=document.createElement("li"),a=document.createElement("li"),d=document.createElement("a"),h=document.createElement("span"),p=this.options.header&&this.$menu.find(".popover-title").length>0?this.$menu.find(".popover-title")[0].cloneNode(!0):null,u=this.options.liveSearch?document.createElement("div"):null,v=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,g=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,h.className="text",d.className="dropdown-item",n.className=this.$menu[0].parentNode.className+" "+f.SHOW,n.style.width=this.sizeInfo.selectWidth+"px",s.className="dropdown-menu "+f.SHOW,o.className="inner "+f.SHOW,l.className="dropdown-menu inner "+("4"===m.major?f.SHOW:""),r.className=f.DIVIDER,c.className="dropdown-header",h.appendChild(document.createTextNode("Inner text")),d.appendChild(h),a.appendChild(d),c.appendChild(h.cloneNode(!0)),this.selectpicker.view.widestOption&&l.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),l.appendChild(a),l.appendChild(r),l.appendChild(c),p&&s.appendChild(p),u){var b=document.createElement("input");u.className="bs-searchbox",b.className="form-control",u.appendChild(b),s.appendChild(u)}v&&s.appendChild(v),o.appendChild(l),s.appendChild(o),g&&s.appendChild(g),n.appendChild(s),document.body.appendChild(n);var x,w=d.offsetHeight,I=c?c.offsetHeight:0,k=p?p.offsetHeight:0,$=u?u.offsetHeight:0,C=v?v.offsetHeight:0,S=g?g.offsetHeight:0,y=e(r).outerHeight(!0),E=!!window.getComputedStyle&&window.getComputedStyle(s),z=s.offsetWidth,T=E?null:e(s),O={vert:i(E?E.paddingTop:T.css("paddingTop"))+i(E?E.paddingBottom:T.css("paddingBottom"))+i(E?E.borderTopWidth:T.css("borderTopWidth"))+i(E?E.borderBottomWidth:T.css("borderBottomWidth")),horiz:i(E?E.paddingLeft:T.css("paddingLeft"))+i(E?E.paddingRight:T.css("paddingRight"))+i(E?E.borderLeftWidth:T.css("borderLeftWidth"))+i(E?E.borderRightWidth:T.css("borderRightWidth"))},D={vert:O.vert+i(E?E.marginTop:T.css("marginTop"))+i(E?E.marginBottom:T.css("marginBottom"))+2,horiz:O.horiz+i(E?E.marginLeft:T.css("marginLeft"))+i(E?E.marginRight:T.css("marginRight"))+2};o.style.overflowY="scroll",x=s.offsetWidth-z,document.body.removeChild(n),this.sizeInfo.liHeight=w,this.sizeInfo.dropdownHeaderHeight=I,this.sizeInfo.headerHeight=k,this.sizeInfo.searchHeight=$,this.sizeInfo.actionsHeight=C,this.sizeInfo.doneButtonHeight=S,this.sizeInfo.dividerHeight=y,this.sizeInfo.menuPadding=O,this.sizeInfo.menuExtras=D,this.sizeInfo.menuWidth=z,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=x,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,i=this,n=e(window),s=i.$newElement.offset(),o=e(i.options.container);i.options.container&&!o.is("body")?((t=o.offset()).top+=parseInt(o.css("borderTopWidth")),t.left+=parseInt(o.css("borderLeftWidth"))):t={top:0,left:0};var l=i.options.windowPadding;this.sizeInfo.selectOffsetTop=s.top-t.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-l[2],this.sizeInfo.selectOffsetLeft=s.left-t.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-l[1],this.sizeInfo.selectOffsetTop-=l[0],this.sizeInfo.selectOffsetLeft-=l[3]},setMenuSize:function(e){this.getSelectPosition();var t,i,n,s,o,l,r=this.sizeInfo.selectWidth,c=this.sizeInfo.liHeight,a=this.sizeInfo.headerHeight,d=this.sizeInfo.searchHeight,h=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,u=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,v=0;if(this.options.dropupAuto&&this.$newElement.toggleClass(f.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&c*this.selectpicker.current.elements.length+m.vert+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot),"auto"===this.options.size)i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=(s=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0)+a+d+h+p,l=Math.max(s-m.vert,0),this.$newElement.hasClass(f.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=i,t=i-a-d-h-p-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&v++;t=(i=c*this.options.size+v*u+m.vert)-m.vert,o=i+a+d+h+p,n=l=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(f.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.$menu[0].offsetWidth-r),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":n+"px"}),this.$menuInner.css({"max-height":t+"px","overflow-y":"auto","min-height":l+"px"}),this.sizeInfo.menuInnerHeight=t,this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var i,n=this,s=e(window),o=0;this.setMenuSize(),"auto"===this.options.size?(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),s.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",function(){return n.setMenuSize()})):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"),s.off("resize.setMenuSize scroll.setMenuSize")),t?o=this.$menuInner[0].scrollTop:n.multiple||"number"==typeof(i=n.selectpicker.main.map.newIndex[n.$element[0].selectedIndex])&&!1!==n.options.size&&(o=(o=n.sizeInfo.liHeight*i)-n.sizeInfo.menuInnerHeight/2+n.sizeInfo.liHeight/2),n.createView(!1,o)}},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.liHeight(),e.setMenuSize();var t=e.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove(),e.sizeInfo.selectWidth=Math.max(e.sizeInfo.totalMenuWidth,i),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=e('<div class="bs-container" />');var t,i,n,s=this,o=e(this.options.container),l=function(e){var l={};s.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(f.DROPUP,e.hasClass(f.DROPUP)),t=e.offset(),o.is("body")?i={top:0,left:0}:((i=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),i.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),n=e.hasClass(f.DROPUP)?0:e[0].offsetHeight,m.major<4&&(l.top=t.top-i.top+n,l.left=t.left-i.left),l.width=e[0].offsetWidth,s.$bsContainer.css(l)};this.$button.on("click.bs.dropdown.data-api",function(){s.isDisabled()||(l(s.$newElement),s.$bsContainer.appendTo(s.options.container).toggleClass(f.SHOW,!s.$button.hasClass(f.SHOW)).append(s.$menu))}),e(window).on("resize scroll",function(){l(s.$newElement)}),this.$element.on("hide.bs.select",function(){s.$menu.data("height",s.$menu.height()),s.$bsContainer.detach()})},setOptionStatus:function(){var e=this,t=this.$element.find("option");if(e.noScroll=!1,e.selectpicker.view.visibleElements&&e.selectpicker.view.visibleElements.length)for(var i=0;i<e.selectpicker.view.visibleElements.length;i++){var n=e.selectpicker.current.map.originalIndex[i+e.selectpicker.view.position0],s=t[n];if(s){var o=this.selectpicker.main.map.newIndex[n],l=this.selectpicker.main.elements[o];e.setDisabled(n,s.disabled||"OPTGROUP"===s.parentNode.tagName&&s.parentNode.disabled,o,l),e.setSelected(n,s.selected,o,l)}}},setSelected:function(e,t,i,n){var s,o,l=void 0!==this.activeIndex,r=this.activeIndex===e||t&&!this.multiple&&!l;i||(i=this.selectpicker.main.map.newIndex[e]),n||(n=this.selectpicker.main.elements[i]),o=n.firstChild,t&&(this.selectedIndex=e),n.classList.toggle("selected",t),n.classList.toggle("active",r),r&&(this.selectpicker.view.currentActive=n,this.activeIndex=e),o&&(o.classList.toggle("selected",t),o.classList.toggle("active",r),o.setAttribute("aria-selected",t)),r||!l&&t&&this.prevActiveIndex&&((s=this.selectpicker.main.elements[this.selectpicker.main.map.newIndex[this.prevActiveIndex]]).classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active"))},setDisabled:function(e,t,i,n){var s;i||(i=this.selectpicker.main.map.newIndex[e]),n||(n=this.selectpicker.main.elements[i]),s=n.firstChild,n.classList.toggle(f.DISABLED,t),s&&("4"===m.major&&s.classList.toggle(f.DISABLED,t),s.setAttribute("aria-disabled",t),s.setAttribute("tabindex",t?-1:0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass(f.DISABLED),this.$button.addClass(f.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass(f.DISABLED)&&(this.$newElement.removeClass(f.DISABLED),this.$button.removeClass(f.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},togglePlaceholder:function(){var e=this.$element[0],t=e.selectedIndex,i=-1===t;i||e.options[t].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,i=e(document);i.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")&&(e.preventDefault(),i.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){m.major>3&&!t.dropdown&&(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){t.$newElement.hasClass(f.SHOW)||t.setSize()}),this.$element.on("shown.bs.select",function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),t.options.liveSearch?t.$searchbox.focus():t.$menuInner.focus()}),this.$menuInner.on("click","li a",function(i,n){var s=e(this),o=t.isVirtual()?t.selectpicker.view.position0:0,l=t.selectpicker.current.map.originalIndex[s.parent().index()+o],r=t.$element.val(),a=t.$element.prop("selectedIndex"),d=!0;if(t.multiple&&1!==t.options.maxOptions&&i.stopPropagation(),i.preventDefault(),!t.isDisabled()&&!s.parent().hasClass(f.DISABLED)){var h=t.$element.find("option"),p=h.eq(l),u=p.prop("selected"),m=p.parent("optgroup"),v=t.options.maxOptions,g=m.data("maxOptions")||!1;if(t.multiple){if(p.prop("selected",!u),l===t.activeIndex&&(n=!0),n||(t.prevActiveIndex=t.activeIndex,t.activeIndex=void 0),t.setSelected(l,!u),s.blur(),!1!==v||!1!==g){var b=v<h.filter(":selected").length,x=g<m.find("option:selected").length;if(v&&b||g&&x)if(v&&1==v)h.prop("selected",!1),p.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(l,!0);else if(g&&1==g){m.find("option:selected").prop("selected",!1),p.prop("selected",!0);var w=t.selectpicker.current.data[s.parent().index()+t.selectpicker.view.position0].optID;t.$menuInner.find(".optgroup-"+w).removeClass("selected"),t.setSelected(l,!0)}else{var I="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,k="function"==typeof I?I(v,g):I,$=k[0].replace("{n}",v),C=k[1].replace("{n}",g),S=e('<div class="notify"></div>');k[2]&&($=$.replace("{var}",k[2][v>1?0:1]),C=C.replace("{var}",k[2][g>1?0:1])),p.prop("selected",!1),t.$menu.append(S),v&&b&&(S.append(e("<div>"+$+"</div>")),d=!1,t.$element.trigger("maxReached.bs.select")),g&&x&&(S.append(e("<div>"+C+"</div>")),d=!1,t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(l,!1)},10),S.delay(750).fadeOut(300,function(){e(this).remove()})}}}else h.prop("selected",!1),p.prop("selected",!0),t.setSelected(l,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.focus():t.options.liveSearch&&t.$searchbox.focus(),d&&(r!=t.$element.val()&&t.multiple||a!=t.$element.prop("selectedIndex")&&!t.multiple)&&(c=[l,p.prop("selected"),u],t.$element.triggerNative("change"))}}),this.$menu.on("click","li."+f.DISABLED+" a, .popover-title, .popover-title :not(.close)",function(i){i.currentTarget==this&&(i.preventDefault(),i.stopPropagation(),t.options.liveSearch&&!e(i.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){t.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),i.preventDefault(),i.stopPropagation(),e(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.on({change:function(){t.render(),t.$element.trigger("changed.bs.select",c),c=null},focus:function(){t.$button.focus()}})},liveSearchListener:function(){var e=this,i=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){e.$searchbox.val()&&e.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var n=e.$searchbox.val();if(e.selectpicker.search.map.newIndex={},e.selectpicker.search.map.originalIndex={},e.selectpicker.search.elements=[],e.selectpicker.search.data=[],n){var s=[],o=n.toUpperCase(),l={},r=[],c=e._searchStyle(),a=e.options.liveSearchNormalize;e._$lisSelected=e.$menuInner.find(".selected");for(var d=0;d<e.selectpicker.main.data.length;d++){var p=e.selectpicker.main.data[d];l[d]||(l[d]=t(p,o,c,a)),l[d]&&void 0!==p.headerIndex&&-1===r.indexOf(p.headerIndex)&&(p.headerIndex>0&&(l[p.headerIndex-1]=!0,r.push(p.headerIndex-1)),l[p.headerIndex]=!0,r.push(p.headerIndex),l[p.lastIndex+1]=!0),l[d]&&"optgroup-label"!==p.type&&r.push(d)}d=0;for(var u=r.length;d<u;d++){var m=r[d],f=e.selectpicker.main.data[r[d-1]];("divider"!==(p=e.selectpicker.main.data[m]).type||"divider"===p.type&&f&&"divider"!==f.type&&u-1!==d)&&(e.selectpicker.search.data.push(p),s.push(e.selectpicker.main.elements[m]),e.selectpicker.search.map.newIndex[p.originalIndex]=s.length-1,e.selectpicker.search.map.originalIndex[s.length-1]=p.originalIndex)}e.activeIndex=void 0,e.noScroll=!0,e.$menuInner.scrollTop(0),e.selectpicker.search.elements=s,e.createView(!0),s.length||(i.className="no-results",i.innerHTML=e.options.noneResultsText.replace("{0}",'"'+h(n)+'"'),e.$menuInner[0].firstChild.appendChild(i))}else e.$menuInner.scrollTop(0),e.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(e){return void 0!==e?(this.$element.val(e).triggerNative("change"),this.$element):this.$element.val()},changeAll:function(e){if(this.multiple){void 0===e&&(e=!0);for(var t=this.$element.find("option"),i=0,n=0,s=0;s<this.selectpicker.current.elements.length;s++){var o=t[this.selectpicker.current.map.originalIndex[s]];o&&(o.selected&&i++,o.selected=e,o.selected&&n++)}i!==n&&(this.setOptionStatus(),this.togglePlaceholder(),this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(i){var n,s,o,l,r,c=e(this),a=(c.is("input")?c.parent().parent():c.parent()).data("this"),d=a.findLis(),h=!1,p=9===i.which&&!c.hasClass("dropdown-toggle")&&!a.options.selectOnTab,m=v.test(i.which)||p,b=a.$menuInner[0].scrollTop,x=a.isVirtual(),w=!0===x?a.selectpicker.view.position0:0;if(!(s=a.$newElement.hasClass(f.SHOW))&&(m||i.which>=48&&i.which<=57||i.which>=96&&i.which<=105||i.which>=65&&i.which<=90)&&a.$button.trigger("click.bs.dropdown.data-api"),27===i.which&&s&&(i.preventDefault(),a.$button.trigger("click.bs.dropdown.data-api").focus()),m){if(!d.length)return;void 0===(n=!0===x?d.index(d.filter(".active")):a.selectpicker.current.map.newIndex[a.activeIndex])&&(n=-1),-1!==n&&((o=a.selectpicker.current.elements[n+w]).classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active")),38===i.which?(-1!==n&&n--,n+w<0&&(n+=d.length),a.selectpicker.view.canHighlight[n+w]||-1==(n=a.selectpicker.view.canHighlight.slice(0,n+w).lastIndexOf(!0)-w)&&(n=d.length-1)):(40===i.which||p)&&(++n+w>=a.selectpicker.view.canHighlight.length&&(n=0),a.selectpicker.view.canHighlight[n+w]||(n=n+1+a.selectpicker.view.canHighlight.slice(n+w+1).indexOf(!0))),i.preventDefault();var I=w+n;38===i.which?0===w&&n===d.length-1?(a.$menuInner[0].scrollTop=a.$menuInner[0].scrollHeight,I=a.selectpicker.current.elements.length-1):h=(r=(l=a.selectpicker.current.data[I]).position-l.height)<b:(40===i.which||p)&&(0!==w&&0===n?(a.$menuInner[0].scrollTop=0,I=0):h=(r=(l=a.selectpicker.current.data[I]).position-a.sizeInfo.menuInnerHeight)>b),(o=a.selectpicker.current.elements[I]).classList.add("active"),o.firstChild&&o.firstChild.classList.add("active"),a.activeIndex=a.selectpicker.current.map.originalIndex[I],a.selectpicker.view.currentActive=o,h&&(a.$menuInner[0].scrollTop=r),a.options.liveSearch?a.$searchbox.focus():c.focus()}else if(!c.is("input")&&!g.test(i.which)||32===i.which&&a.selectpicker.keydown.keyHistory){var k,$,C=[];i.preventDefault(),a.selectpicker.keydown.keyHistory+=u[i.which],a.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(a.selectpicker.keydown.resetKeyHistory.cancel),a.selectpicker.keydown.resetKeyHistory.cancel=a.selectpicker.keydown.resetKeyHistory.start(),/^(.)\1+$/.test($=a.selectpicker.keydown.keyHistory)&&($=$.charAt(0));for(var S=0;S<a.selectpicker.current.data.length;S++){var y=a.selectpicker.current.data[S];t(y,$,"startsWith",!0)&&a.selectpicker.view.canHighlight[S]&&(y.index=S,C.push(y.originalIndex))}if(C.length){var E=0;d.removeClass("active").find("a").removeClass("active"),1===$.length&&(-1===(E=C.indexOf(a.activeIndex))||E===C.length-1?E=0:E++),b-(l=a.selectpicker.current.data[k=a.selectpicker.current.map.newIndex[C[E]]]).position>0?(r=l.position-l.height,h=!0):(r=l.position-a.sizeInfo.menuInnerHeight,h=l.position>b+a.sizeInfo.menuInnerHeight),(o=a.selectpicker.current.elements[k]).classList.add("active"),o.firstChild&&o.firstChild.classList.add("active"),a.activeIndex=C[E],o.firstChild.focus(),h&&(a.$menuInner[0].scrollTop=r),c.focus()}}s&&(32===i.which&&!a.selectpicker.keydown.keyHistory||13===i.which||9===i.which&&a.options.selectOnTab)&&(32!==i.which&&i.preventDefault(),a.options.liveSearch&&32===i.which||(a.$menuInner.find(".active a").trigger("click",!0),c.focus(),a.options.liveSearch||(i.preventDefault(),e(document).data("spaceSelect",!0))))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var t=e.extend({},this.options,this.$element.data());this.options=t,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.createLi(),this.checkDisabled(),this.render(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var x=e.fn.selectpicker;e.fn.selectpicker=s,e.fn.selectpicker.Constructor=b,e.fn.selectpicker.noConflict=function(){return e.fn.selectpicker=x,this},e(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',b.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',function(e){e.stopPropagation()}),e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);s.call(t,t.data())})})}(e)});